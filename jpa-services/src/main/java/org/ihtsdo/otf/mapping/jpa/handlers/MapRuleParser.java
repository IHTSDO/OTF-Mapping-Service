package org.ihtsdo.otf.mapping.jpa.handlers;

/**
 * This code was auto-generated by apg.
 *
 * Changes to this file may cause incorrect behavior and will be lost if
 * the code is regenerated.
 */

import java.io.BufferedReader;
import java.io.ByteArrayInputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.util.Stack;

public class MapRuleParser {
  private static final int END_MARKER = 256;
  private static final int MIN_RULE_ID = END_MARKER + 1;
  private CompressedMatrix<Integer> gotoTable;
  private CompressedMatrix<Action> actionTable;
  private Dfa[] reverseDfas;

  public MapRuleParser() {
      this.gotoTable = new CompressedMatrix<Integer>(new Integer[]{4,5,6,5,21,22,23,27,28,32,34,36,35,40,44,47,48,47,51,54,57,58,59,60,61,62,63,64,66,},new int[]{0,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,7,7,7,7,7,7,8,9,9,9,9,9,10,10,11,11,12,12,12,13,14,14,14,14,15,15,16,16,17,17,17,18,19,19,19,20,20,20,21,21,21,22,23,24,25,26,27,28,29,},new int[]{258,260,261,259,264,265,269,266,269,269,260,269,270,269,269,271,269,271,269,269,269,269,269,269,269,269,269,269,269,});
      this.actionTable = new CompressedMatrix<Action>(new Action[]{new Action(ActionType.Shift, 1),new Action(ActionType.Shift, 2),new Action(ActionType.Shift, 3),new Action(ActionType.Shift, 7),new Action(ActionType.Shift, 8),new Action(ActionType.Shift, 9),new Action(ActionType.Accept, 0),new Action(ActionType.Shift, 11),new Action(ActionType.Reduce, 258),new Action(ActionType.Reduce, 258),new Action(ActionType.Shift, 12),new Action(ActionType.Shift, 13),new Action(ActionType.Shift, 14),new Action(ActionType.Reduce, 257),new Action(ActionType.Shift, 15),new Action(ActionType.Shift, 16),new Action(ActionType.Shift, 17),new Action(ActionType.Shift, 18),new Action(ActionType.Shift, 19),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 24),new Action(ActionType.Reduce, 261),new Action(ActionType.Shift, 25),new Action(ActionType.Reduce, 269),new Action(ActionType.Reduce, 269),new Action(ActionType.Reduce, 269),new Action(ActionType.Reduce, 269),new Action(ActionType.Reduce, 269),new Action(ActionType.Reduce, 269),new Action(ActionType.Reduce, 269),new Action(ActionType.Reduce, 269),new Action(ActionType.Reduce, 269),new Action(ActionType.Reduce, 269),new Action(ActionType.Reduce, 260),new Action(ActionType.Reduce, 260),new Action(ActionType.Shift, 26),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 29),new Action(ActionType.Shift, 30),new Action(ActionType.Shift, 31),new Action(ActionType.Reduce, 264),new Action(ActionType.Reduce, 264),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 33),new Action(ActionType.Shift, 1),new Action(ActionType.Shift, 35),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 37),new Action(ActionType.Reduce, 259),new Action(ActionType.Reduce, 259),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 39),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 38),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 20),new Action(ActionType.Shift, 41),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Shift, 42),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Reduce, 270),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 45),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Reduce, 269),new Action(ActionType.Reduce, 269),new Action(ActionType.Reduce, 269),new Action(ActionType.Reduce, 269),new Action(ActionType.Reduce, 269),new Action(ActionType.Reduce, 269),new Action(ActionType.Reduce, 269),new Action(ActionType.Reduce, 269),new Action(ActionType.Reduce, 269),new Action(ActionType.Reduce, 269),new Action(ActionType.Reduce, 269),new Action(ActionType.Reduce, 265),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 49),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Reduce, 271),new Action(ActionType.Shift, 50),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Shift, 46),new Action(ActionType.Reduce, 265),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 52),new Action(ActionType.Shift, 53),new Action(ActionType.Reduce, 265),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 55),new Action(ActionType.Shift, 56),new Action(ActionType.Reduce, 265),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 18),new Action(ActionType.Reduce, 266),new Action(ActionType.Reduce, 266),new Action(ActionType.Reduce, 265),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Reduce, 265),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Reduce, 265),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Reduce, 265),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Reduce, 265),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Reduce, 265),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Reduce, 265),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Shift, 43),new Action(ActionType.Reduce, 265),new Action(ActionType.Shift, 65),new Action(ActionType.Shift, 65),new Action(ActionType.Shift, 65),new Action(ActionType.Shift, 65),new Action(ActionType.Shift, 65),new Action(ActionType.Shift, 65),new Action(ActionType.Shift, 65),new Action(ActionType.Shift, 65),new Action(ActionType.Shift, 65),new Action(ActionType.Shift, 65),new Action(ActionType.Reduce, 269),new Action(ActionType.Reduce, 265),},new int[]{0,3,4,5,6,7,9,10,11,12,13,14,15,16,17,18,19,29,30,31,32,42,44,45,55,56,57,58,60,70,71,72,73,83,84,86,210,220,221,345,470,480,481,533,544,555,556,609,662,673,674,675,686,687,688,699,700,702,713,724,735,746,757,768,779,790,791,792,},new int[]{73,79,84,70,84,82,256,32,256,256,65,72,85,256,65,32,69,69,78,48,49,50,51,52,53,54,55,56,57,82,256,68,48,49,50,51,52,53,54,55,56,57,32,256,32,48,49,50,51,52,53,54,55,56,57,87,32,124,32,256,48,49,50,51,52,53,54,55,56,57,73,73,32,48,49,50,51,52,53,54,55,56,57,83,32,256,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,125,126,127,48,49,50,51,52,53,54,55,56,57,69,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,125,126,127,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,125,126,127,48,49,50,51,52,53,54,55,56,57,32,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,48,49,50,51,52,53,54,55,56,57,32,48,49,50,51,52,53,54,55,56,57,84,41,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,41,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,48,49,50,51,52,53,54,55,56,57,82,32,32,48,49,50,51,52,53,54,55,56,57,85,124,32,48,49,50,51,52,53,54,55,56,57,69,32,256,32,48,49,50,51,52,53,54,55,56,57,32,48,49,50,51,52,53,54,55,56,57,32,48,49,50,51,52,53,54,55,56,57,32,48,49,50,51,52,53,54,55,56,57,32,48,49,50,51,52,53,54,55,56,57,32,48,49,50,51,52,53,54,55,56,57,32,48,49,50,51,52,53,54,55,56,57,32,48,49,50,51,52,53,54,55,56,57,32,32,});
      this.reverseDfas = new Dfa[]{new Dfa(new CompressedMatrix<Integer>(new Integer[]{1,2,},new int[]{0,1,2,},new int[]{256,258,}),new int[]{2,}),new Dfa(new CompressedMatrix<Integer>(new Integer[]{1,2,2,1,2,},new int[]{0,3,5,},new int[]{259,260,261,259,260,}),new int[]{2,}),new Dfa(new CompressedMatrix<Integer>(new Integer[]{1,2,3,4,5,6,},new int[]{0,1,2,3,4,5,6,},new int[]{260,32,68,78,65,32,}),new int[]{6,}),new Dfa(new CompressedMatrix<Integer>(new Integer[]{1,2,3,4,5,},new int[]{0,1,2,3,4,5,},new int[]{264,32,65,70,73,}),new int[]{5,}),new Dfa(new CompressedMatrix<Integer>(new Integer[]{1,2,3,4,5,6,7,8,9,10,11,12,13,14,},new int[]{0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,},new int[]{69,85,82,84,32,69,83,73,87,82,69,72,84,79,}),new int[]{4,14,}),new Dfa(new CompressedMatrix<Integer>(new Integer[]{1,2,3,4,5,},new int[]{0,1,2,3,4,5,},new int[]{268,32,267,32,263,}),new int[]{5,}),new Dfa(new CompressedMatrix<Integer>(new Integer[]{1,2,1,1,1,},new int[]{0,3,3,5,},new int[]{60,61,62,60,62,}),new int[]{1,2,}),new Dfa(new CompressedMatrix<Integer>(new Integer[]{1,2,},new int[]{0,1,2,},new int[]{266,265,}),new int[]{2,}),new Dfa(new CompressedMatrix<Integer>(new Integer[]{1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,},new int[]{0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,},new int[]{269,269,269,269,269,269,269,269,269,269,269,269,269,269,269,269,269,269,}),new int[]{6,7,8,9,10,11,12,13,14,15,16,17,18,}),new Dfa(new CompressedMatrix<Integer>(new Integer[]{1,2,3,4,5,4,6,7,6,8,9,},new int[]{0,1,2,3,4,6,7,9,10,11,},new int[]{124,32,41,271,40,271,32,32,270,124,32,}),new int[]{9,}),new Dfa(new CompressedMatrix<Integer>(new Integer[]{1,1,1,1,},new int[]{0,2,4,},new int[]{46,269,46,269,}),new int[]{1,}),new Dfa(new CompressedMatrix<Integer>(new Integer[]{1,2,3,4,5,6,7,8,9,10,11,11,12,11,11,},new int[]{0,3,4,6,7,8,9,10,11,12,13,14,14,15,},new int[]{114,115,121,97,114,121,97,101,97,97,100,121,101,100,121,}),new int[]{11,}),new Dfa(new CompressedMatrix<Integer>(new Integer[]{1,1,1,1,1,1,1,1,1,1,},new int[]{0,10,},new int[]{48,49,50,51,52,53,54,55,56,57,}),new int[]{1,}),new Dfa(new CompressedMatrix<Integer>(new Integer[]{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,},new int[]{0,124,},new int[]{1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,125,126,127,}),new int[]{1,}),new Dfa(new CompressedMatrix<Integer>(new Integer[]{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,},new int[]{0,52,},new int[]{65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,}),new int[]{1,}),};
  }

  public boolean parse(InputStream stream) throws IOException {
      boolean isMatch = false;

      Stack<Integer> stateStack = new Stack<Integer>();
      Stack<Integer> inputStack = new Stack<Integer>();
      stateStack.push(0);

      int c = stream.read();
      if (c == -1) {
          c = END_MARKER;
      }

      while (true) {
          Action action = this.actionTable.get(stateStack.peek(), c);

          if (action == null) {
              isMatch = false;
              break;
          } else if (action.type() == ActionType.Shift) {
              stateStack.push(action.state());
              inputStack.push(c);

              c = stream.read();
              if (c == -1) {
                  c = END_MARKER;
              }
          } else if (action.type() == ActionType.Reduce) {
              Dfa fa = this.reverseDfas[action.ruleId() - MIN_RULE_ID];
              fa.setState(0);

              Integer[] input = inputStack.toArray(new Integer[] {});
              int lastMatchIndex = input.length;

              for (int i = input.length - 1; i >= 0 && fa.step(input[i]); i--) {
                  if (fa.isMatch()) {
                      lastMatchIndex = i;
                  }
              }

              for (int i = input.length - 1; i >= lastMatchIndex; i--) {
                  inputStack.pop();
                  stateStack.pop();
              }

              stateStack.push(this.gotoTable.get(stateStack.peek(),
                      action.ruleId()));
              inputStack.push(action.ruleId());
          } else if (action.type() == ActionType.Accept) {
              isMatch = true;
              break;
          } else {
              throw new IllegalStateException();
          }
      }

      return isMatch;
  }

  private class Action {
      private ActionType type;
      private int data;

      public Action(ActionType type, int data) {
          this.type = type;
          this.data = data;
      }

      public ActionType type() {
          return this.type;
      }

      public int ruleId() {
          return this.data;
      }

      public int state() {
          return this.data;
      }
  }

  private enum ActionType {
      Shift, Reduce, Accept, Error
  }

  private class Dfa {
      private CompressedMatrix<Integer> transitionTable;
      private int[] acceptStates;
      private int state;

      public Dfa(CompressedMatrix<Integer> transitionTable, int[] acceptStates) {
          this.transitionTable = transitionTable;
          this.acceptStates = acceptStates;
          this.state = 0;
      }

      public void setState(int state) {
          this.state = state;
      }

      public boolean isMatch() {
          int start = 0;
          int end = this.acceptStates.length;
          int mid = start + (end - start) / 2;

          while (start < end) {
              if (this.state < this.acceptStates[mid]) {
                  end = mid;
                  mid = start + (end - start) / 2;
              } else if (this.state > this.acceptStates[mid]) {
                  start = mid + 1;
                  mid = start + (end - start) / 2;
              } else {
                  break;
              }
          }

          return this.state == this.acceptStates[mid];
      }

      public boolean step(int character) {
          Integer newState = this.transitionTable.get(this.state, character);

          if (newState == null) {
              return false;
          }

          this.state = newState;
          return true;
      }
  }

  private class CompressedMatrix<T> {
      private T[] a;
      private int[] ia;
      private int[] ja;

      public CompressedMatrix(T[] a, int[] ia, int[] ja) {
          this.a = a;
          this.ia = ia;
          this.ja = ja;
      }

      public T get(int x, int y) {
          if (x >= this.ia.length - 1) {
              return null;
          }

          int start = this.ia[x];
          int end = this.ia[x + 1];
          int mid = start + (end - start) / 2;

          while (start < end) {
              if (y < this.ja[mid]) {
                  end = mid;
                  mid = start + (end - start) / 2;
              } else if (y > this.ja[mid]) {
                  start = mid + 1;
                  mid = start + (end - start) / 2;
              } else {
                  break;
              }
          }

          return y == this.ja[mid] ? this.a[mid] : null;
      }
  }

  public static void main(String[] args) throws IOException {

    MapRuleParser parser = new MapRuleParser();

    try {
      BufferedReader in = new BufferedReader(new InputStreamReader(System.in));
      String line;
      while ((line = in.readLine()) != null) {
        boolean isMatch =
            parser.parse(new ByteArrayInputStream(line.getBytes()));

        System.out.println(String.format("Is '%1$s' a valid map rule?", line));
        System.out.println(isMatch ? "Yes" : "No");
      }
    } catch (Exception e) {
      e.printStackTrace();
    }
  }

}